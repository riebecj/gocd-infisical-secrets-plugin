<div data-plugin-style-id="secret-plugin">
    <style>
        [data-plugin-style-id="secret-plugin"] .asterisk {
            color: #ff0000;
        }

        [data-plugin-style-id="secret-plugin"] .form-one-line-help-content {
            color: #666;
            clear: both;
            font-size: 12px;
            line-height: 0;
            font-style: italic;
            padding-bottom: 20px;
        }

        [data-plugin-style-id="secret-plugin"] .form-help-content {
            clear: both;
            font-size: 12px;
            line-height: 16px;
            padding: 20px;
            background: #f5f5f5;
        }

        [data-plugin-style-id="secret-plugin"] .form-help-content .code {
            padding: 10px;
            overflow: auto;
            font-size: 95%;
            line-height: 1.45;
            background-color: #e8e8e8;
            border-radius: 3px;
            white-space: pre-line;
        }

        [data-plugin-style-id="secret-plugin"] .col-2 {
            display: flex;
            margin: 0 -15px;
        }

        [data-plugin-style-id="secret-plugin"] .col-2 .col {
            width: 50%;
            padding: 0 15px;
        }
    </style>

    <div class="form_item_block">
        <label>Infisical URL:<span class="asterisk">*</span></label>
        <input type="text" ng-model="InfisicalURL" ng-required="true" placeholder="https://infisical.com" />
        <span class="form_error" ng-show="GOINPUTNAME[InfisicalURL].$error.server">{{
            GOINPUTNAME[InfisicalURL].$error.server }}</span>
        <div class="form-one-line-help-content">
            The fully qualified URL of your Infisical instance. For example,
            <code>https://app.infisical.com</code>. This URL is used to connect to Infisical's API.
        </div>
    </div>

    <div class="form_item_block">
        <div class="col-2">
            <div class="col">
                <label>Universal Auth Client ID:<span class="asterisk">*</span></label>
                <input type="password" ng-model="ClientId" ng-required="true" />
                <span class="form_error" ng-show="GOINPUTNAME[ClientId].$error.server">{{
                    GOINPUTNAME[ClientId].$error.server }}</span>
            </div>
            <div class="col">
                <label>Universal Auth Client Secret:<span class="asterisk">*</span></label>
                <input type="password" ng-model="ClientSecret" ng-required="true" />
                <span class="form_error" ng-show="GOINPUTNAME[ClientSecret].$error.server">{{
                    GOINPUTNAME[ClientSecret].$error.server }}</span>
            </div>
        </div>
        <div class="form-help-content">
            <p>Infisical Universal Auth Credentials</p>
            <p>
                If using the Enterprise version of Infisical, it is recommended to set the Trusted
                IPs to the IP address of the Machine Identitiy to the address(es) of the machine(s)
                running the GoCD server to secure the connection to just Infisical.
            </p>
            <p><strong>Required permissions:</strong>
                The Machine Identity used must have <code>viewer</code> access to the desired Project. If
                using custom roles, the Machine Identity must have the following permissions:
            </p>
            <div class="code">secrets:Read (Legacy)
                secrets:DescribeSecret
                secrets:ReadValue
                secretimports:Read
            </div>
        </div>
    </div>

    <div class="form_item_block">
        <label>Project ID:<span class="asterisk">*</span></label>
        <input type="text" ng-model="ProjectId" ng-required="true" placeholder="12345678-abcd-1234-abcd-1234567890ab" />
        <span class="form_error" ng-show="GOINPUTNAME[ProjectId].$error.server">{{ GOINPUTNAME[ProjectId].$error.server
            }}</span>
        <div class="form-one-line-help-content">
            <p>The Project ID (UUID) from which to get secrets. You can find the Project ID in your Infisical project
                settings.</p>
            <div class="code">Secrets -> My Project -> Project Settings -> General -> Project Overview -> Copy Project
                ID</div>
        </div>
    </div>

    <div class="form_item_block">
        <label>Environment (Slug):<span class="asterisk">*</span></label>
        <input type="text" ng-model="EnvironmentSlug" ng-required="true" placeholder="dev"/>
        <span class="form_error" ng-show="GOINPUTNAME[EnvironmentSlug].$error.server">{{
            GOINPUTNAME[EnvironmentSlug].$error.server }}</span>
        <div class="form-help-content">
            Provide the environment slug to fetch secrets from. The slug is a unique identifier for the environment in
            Infisical. Infisical uses <code>dev</code>, <code>staging</code>, and <code>prod</code> as default
            environment slugs, but they can be customized. You can find the slug for your desired environment in the
            Infisical UI under your Project Settings
            <code>Environments</code> card.
            <div class="code">Secrets -> My Project -> Project Settings -> General -> Environments</div>
        </div>
    </div>

    <div class="form_item_block">
        <label>Secret Path:</label>
        <input type="text" ng-model="SecretPath" ng-required="false" placeholder="/" />
        <span class="form_error" ng-show="GOINPUTNAME[SecretPath].$error.server">{{
            GOINPUTNAME[SecretPath].$error.server }}</span>
        <div class="form-one-line-help-content">
            <p>The path to the secret in the Infisical project. This is optional and can be used to filter secrets by a
                specific path. If not provided, all secrets in the specified project and environment will be fetched.
            </p>
            <p>(Defaults to <code>/</code>).</p>
        </div>
    </div>
</div>